<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd 
   http://www.liquibase.org/xml/ns/dbchangelog 
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">


<changeSet id="1" author="ckayis">
	<createTable tableName="token">
		<column name="id" type="bigint">
		<constraints primaryKey="true" nullable="false"/>
		</column>
		<column name="version" type="integer">
		<constraints nullable="false"/>
		</column>
		<column name="content" type="varchar">
		</column>
		<column name="environment" type="integer">
		</column>
<!-- 		<column name="user_id" type="bigint">
		<constraints foreignKeyName="id"/>
		</column>
		<column name="application_id" type="bigint">
		<constraints foreignKeyName="id"/>
		</column> -->
	</createTable>
</changeSet>

<changeSet id="2" author="ckayis">
	<createTable tableName="users">
		<column name="id" type="bigint">
		<constraints primaryKey="true" nullable="false"/>
		</column>
		<column name="name" type="varchar" >
		</column>
		<column name="version" type="integer">
		<constraints nullable="false"/>
		</column>
		
<!-- 		<column name="token_id" type="bigint">
		<constraints foreignKeyName="id"/>
		</column> 
	
 	<addForeignKeyConstraint constraintName="addFk_userId_to_token" referencedTableName="token" baseColumnNames="id" 
	baseTableName="users" referencedColumnNames="id"/>   	-->
	
</createTable>
</changeSet>


<changeSet id="3" author="ckayis">
	<createTable tableName="application">
		<column name="id" type="bigint">
		<constraints primaryKey="true" nullable="false"/>
		</column>
		<column name="version" type="integer">
		<constraints nullable="false"/>
		</column>
		<column name="appname" type="varchar">
		</column>
	</createTable>
	<addForeignKeyConstraint constraintName="addFk_applicationId_to_token" referencedTableName="token" baseColumnNames="id"
	baseTableName="application" referencedColumnNames="id"/>
</changeSet>





</databaseChangeLog>